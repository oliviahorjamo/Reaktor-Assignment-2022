{% extends "layout.html" %}
{% block content %}

<body>
    
    <div>
        <p>
            Back to <a href = "/index">index -page</a></p>
        </p>
        <h2 class = "header">
            Package <u>{{package.name}}</u> dependencies
        </h2>
    </div>

<div class = "packagelist">
    <h3>
        Required dependencies
    </h3>
    <p>
        Here are listed all packages that this package depends on.
    </p>
    {% for dep in package.dependencies %}
    <p><a href = "/package/{{dep.name}}">{{dep.name}}</a></p>
    {% endfor %}

    <h3>Reverse dependencies</h3>
    <p>
        Here are listed all packages that depend on this package.
    </p>
    {% for dep in package.reverse_dep %}
    <p><a href = "/package/{{dep.name}}">{{dep.name}}</a></p>
    {% endfor %}

    <h3>Optional dependencies</h3>
    <p>
        Here are listed all optional dependencies of this package.
    </p>
    {% for dep in package.extras %}
    {% if not dep.optional %}
    <p><a href = "/package/{{dep.name}}">{{dep.name}}</a></p>
    {% else %}
    <p>{{dep.name}}</p>
    {% endif %}
    {% endfor %}

    <h3>Optional reverse dependencies</h3>
    <p>
        Here are listed all packages that have this package in their optional dependencies.
    </p>
    {% for dep in package.reverse_extras %}
    {% if not dep.optional %}
    <p><a href = "/package/{{dep.name}}">{{dep.name}}</a></p>
    {% else %}
    <p>{{dep.name}}</p>
    {% endif %}
    {% endfor %}
</div>

<script  type="text/javascript">
    $(window).on('scroll', function () {
       var scrollTop = $(window).scrollTop();
       if (scrollTop > 50) {
           $('#packagelist').stop().animate({height: "30px"},200);
       }
       else {
            $('#packagelist').stop().animate({height: "50px"},200);   
       }
    });
    
    function length(dependencies) {
        document.write(dependencies.length)
    }
    </script>
</body>


{% endblock %}